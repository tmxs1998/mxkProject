"use strict";$(function(){var c=$("#l_username"),o=$("#l_pwd"),s=$("#l_yzm"),i=$(".l_ranyzm"),t=$("#l_btn"),n=$(".l_war"),l=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,a=/^[a-zA-Z]\w{5,11}$/,r=0;function h(){for(var t="";t.length<4;){var l=Math.floor(42*Math.random()+48);(48<=l&&l<=57||65<=l&&l<=90)&&(t+=String.fromCharCode(l))}return t}i.html(h()),i.click(function(){i.html(h()),s.val("")}),t.click(function(){0==(r=0,l.test(c.val())?0==r&&n.css({opacity:0}):(n.css({opacity:1}),n.html("请输入正确的邮箱!!!"),r++),a.test(o.val())?0==r&&n.css({opacity:0}):(n.css({opacity:1}),n.html("请输入正确的密码!!!"),r++),s.val()==i.html()!=1?(n.css({opacity:1}),n.html("请输入正确的验证码!!!"),r++):0==r&&n.css({opacity:0}),r)&&$.ajax("http://localhost:3000/userinfo").then(function(t){for(var l=0;l<t.length;l++)if(t[l].id==$.trim(c.val())&&t[l].pwd==o.val()){var a={id:t[l].id};console.log(a),localStorage.setItem("uSuccess",JSON.stringify(a)),alert("登陆成功!!"),location.assign("http://localhost:8080/index.html")}n.css({opacity:1}),n.html("请输入正确的账号或密码!!!"),c.val(""),o.val(""),i.html(h()),s.val("")}),i.html(h()),s.val("")})});